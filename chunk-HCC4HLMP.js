import{a as he}from"./chunk-2PVH457B.js";import{a as be,b as Se,c as Ce}from"./chunk-HCJY2P4W.js";import{Da as ue,Ga as ce,Ha as pe,Ia as fe,La as de,Na as ge,W as ae,b as te,d as ie,e as ne,h as oe,q as x,qa as le,r as N,s as re,sb as w,t as _,xa as se,xb as ve,ya as me}from"./chunk-CHKF3THV.js";import{$a as h,C as B,Db as H,Ia as m,Ib as C,Jb as T,Na as g,Nb as K,Ob as G,Pb as X,Va as S,Wb as Y,Xb as Z,Yb as v,Za as Q,Zb as ee,_b as k,ac as V,bc as D,cc as F,ga as f,gc as q,ha as d,kc as J,sc as A,tb as u,ub as l,vb as s,wb as c}from"./chunk-HVGVGDU3.js";import{h as j}from"./chunk-MG3ERZGY.js";function Te(a,i){if(a&1&&(l(0,"div",10),v(1),s()),a&2){let e=T().$implicit;m(),k(" ",e==null?null:e.label," ")}}function Le(a,i){if(a&1&&(l(0,"li",7),h(1,Te,2,1,"div",8),c(2,"app-left-sub-menu",9),s()),a&2){let e=i.$implicit;m(),u("ngIf",(e==null?null:e.label)&&(e==null?null:e.visible)),m(),u("items",e==null?null:e.items)}}var P=class a{items;constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=S({type:a,selectors:[["app-left-menu"]],inputs:{items:"items"},standalone:!1,decls:7,vars:1,consts:[[1,"leftmenu"],[1,"sidebar-header"],["href","/",1,"app-logo"],["src","assets/images/logo.png"],[1,"layout-menu-container"],[1,"layout-menu"],["class","layout-root-menuitem",4,"ngFor","ngForOf"],[1,"layout-root-menuitem"],["class","layout-menuitem-root-text",4,"ngIf"],[3,"items"],[1,"layout-menuitem-root-text"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"div",1)(2,"a",2),c(3,"img",3),s()(),l(4,"div",4)(5,"ul",5),h(6,Le,3,2,"li",6),s()()()),e&2&&(m(6),u("ngForOf",t.items))},encapsulation:2})};var y=class{static addString(i,e){return i?.indexOf(e)<0?i?.replace(/(\.[^\.\/]+)$/,`${e}$1`):i}static fnv1aHash(i){let e=2166136261;for(let t=0;t<i?.length;t++)e^=i.charCodeAt(t),e=Math.imul(e,16777619)>>>0;return(e>>>0).toString(16).padStart(8,"0")}static formatValue(i,e=2,t="pt-BR"){return new oe(t).transform(i,"1."+e+"-"+e,t)}static getLabelByHierarchy(i){let e=[];return i&&i instanceof Object&&(i.label=this.getLabelParent(i,e)?.reverse()?.join(" > ")),i.label}static getLabelParent(i,e){return e?.push(i?.name),i?.parent?.createdAt?this.getLabelParent(i?.parent,e):e}static levenshtein(i,e){let t=Array.from({length:i?.length+1},(n,o)=>Array.from({length:e?.length+1},(r,p)=>o===0?p:p===0?o:0));for(let n=1;n<=i?.length;n++)for(let o=1;o<=e?.length;o++){let r=i[n-1]===e[o-1]?0:1;t[n][o]=Math.min(t[n-1][o]+1,t[n][o-1]+1,t[n-1][o-1]+r)}return t[i?.length][e?.length]}static normalize(i){return i?.toLowerCase()?.normalize("NFD")?.replace(/[\u0300-\u036f]/g,"")?.trim()??""}static removeString(i,e){let t=e?.map(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),n=new RegExp(`(${t})(?=\\.[^\\.\\/]+$)`,"g");return i?.replace(n,"")??""}static reorderObjectKeysStringfy(i){let e=new WeakSet,t=n=>{if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="number"||typeof n=="boolean")return String(n);if(typeof n=="string")return JSON.stringify(n);if(Array.isArray(n))return"["+n.map(o=>t(o)).join(",")+"]";if(typeof n=="object"){if(e.has(n))return'"[Circular]"';e.add(n);let r=Object.keys(n).sort().map(p=>`${JSON.stringify(p)}:${t(n[p])}`);return e.delete(n),"{"+r.join(",")+"}"}return JSON.stringify(String(n))};return t(i)}};function Ee(a,i){a&1&&v(0," / ")}var O=class a{constructor(i,e,t){this.router=i;this.activatedRoute=e;this.mainService=t;this.router.events.pipe(B(n=>n instanceof x)).subscribe(()=>{this.menuItems=[],this.createBreadcrumbs(this.activatedRoute)})}menuItems;createBreadcrumbs(i){for(let e of i?.children){let t=e?.snapshot?.data?.breadcrumb?.split([","]);if(t)for(let n of t)this.menuItems?.push({label:n});e?.children&&this.createBreadcrumbs(e?.children[0])}}static \u0275fac=function(e){return new(e||a)(g(_),g(N),g(w))};static \u0275cmp=S({type:a,selectors:[["app-route"]],standalone:!1,decls:3,vars:1,consts:[[1,"route"],[3,"model"],["pTemplate","separator"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"p-breadcrumb",1),h(2,Ee,1,0,"ng-template",2),s()()),e&2&&(m(),u("model",t.menuItems))},dependencies:[he,ae],encapsulation:2})};var we=a=>({hidden:a});function ke(a,i){if(a&1&&(l(0,"div",27),c(1,"i"),v(2),s()),a&2){let e=i.$implicit;u("pTooltip",q(e==null?null:e.label)),m(),Z(e==null?null:e.icon),m(),k(" ",e==null?null:e.label," ")}}function Ve(a,i){a&1&&c(0,"i",30)}function De(a,i){if(a&1){let e=H();l(0,"div")(1,"button",28),C("click",function(){let n=f(e).$implicit,o=T();return d(o.onChangeThemeColor(n))}),h(2,Ve,1,0,"i",29),s()()}if(a&2){let e=i.$implicit,t=T();m(),Y("background: "+(e==null?null:e.value)),u("pTooltip",q(e==null?null:e.label)),m(),u("ngIf",t.getCurrentThemeColor(e))}}var z=class a{constructor(i,e){this.router=i;this.mainService=e;window.addEventListener("resize",()=>this.onResize()),this.router.events.pipe(B(t=>t instanceof x)).subscribe(()=>{this.mainService?.menu?.next(!1),window.innerWidth<=991&&this.mainService?.menu?.next(!0)}),this.mainService?.menu?.subscribe(t=>{this.menuVisible=t;let n=document?.querySelector(".fixed-bottombar"),o=document?.querySelector(".leftmenu"),r=document?.querySelector(".main");o&&r&&(this.mainService.isMobile()?(o.style.width=this.menuVisible?"0":"18rem",r.style.marginLeft="0"):(o.style.width=this.menuVisible?"0":"18rem",r.style.marginLeft=this.menuVisible?"0":"18rem")),n&&(this.mainService.isMobile()?(n.style.left="0",n.style.width="100%"):(n.style.left=this.menuVisible?"0":"18rem",n.style.width=this.menuVisible?"100%":"calc(100% - 18rem)"))})}configRightDrawer=!1;userRightDrawer=!1;themeColor;schemeColor;scales=[12,13,14,15,16];currentTheme;currentScheme;menuVisible=!0;filteredItems=[];items=[];get ButtonType(){return ce}get DocumentType(){return DocumentType}get FieldType(){return be}ngOnInit(){this.themeColor=[{label:"Confian\xE7a",value:"var(--custom-500)",class:"custom"},{label:"Ind\xEDgo",value:"var(--indigo-500)",class:"indigo"},{label:"Azul",value:"var(--blue-500)",class:"blue"},{label:"Roxo",value:"var(--purple-500)",class:"purple"},{label:"Verde-Azulado",value:"var(--teal-500)",class:"teal"},{label:"Ciano",value:"var(--cyan-500)",class:"cyan"},{label:"Verde",value:"var(--green-500)",class:"green"},{label:"Laranja",value:"var(--orange-500)",class:"orange"},{label:"Rosa",value:"var(--pink-500)",class:"pink"},{label:"Vermelho",value:"var(--red-500)",class:"red"},{label:"Amarelo",value:"var(--yellow-500)",class:"yellow"}],this.schemeColor=[{label:"Claro",value:"light",icon:"fas fa-sun"},{label:"Escuro",value:"dark",icon:"fas fa-moon"}],this.onChangeSchemeColor(this.getSchemeColor()),this.onChangeThemeColor(this.getThemeColor())}getCurrentThemeColor(i){return i?.value==this.currentTheme?.value}getSchemeColor(){let i=localStorage?.getItem("_sc");return i?JSON.parse(i):this.schemeColor?.[0]??{}}getThemeColor(){let i=localStorage?.getItem("_th");return i?JSON.parse(i):this.themeColor?.[0]??{}}onChangeSchemeColor(i){let e=document?.querySelector("html");e?.classList?.remove("light","dark"),e?.classList?.toggle(i?.value),this.currentScheme=i?.value,this.currentScheme&&localStorage?.setItem("_sc",JSON.stringify(i))}onChangeThemeColor(i){let e=document.querySelector("html");e?.classList?.remove("indigo","blue","purple","teal","cyan","green","orange","pink","red","yellow","custom"),e?.classList?.toggle(i?.class),this.currentTheme=i,this.currentScheme&&localStorage?.setItem("_th",JSON.stringify(i))}onResize(){this.mainService?.menu?.next(window.innerWidth<=991)}onSearch(i){function e(o,r){let p=y.normalize(o);return y.normalize(r)?.split(/\s+/)?.every(L=>p?.includes(L)||p?.includes(L+"s"))??!1}function t(o,r,p){if(r?.label?.toLowerCase()?.includes(p?.toLowerCase())){let b={};Object.assign(b,r),o.filteredItems?.push(b)}}function n(o,r,p){if(r?.items?.map(b=>{let L=y.normalize(b?.label),Ie=y.normalize(p);if(e(L?.trim(),Ie?.trim())){let M={};Object.assign(M,r);let R=o.filteredItems?.find(E=>E.label==M?.label);if(R){let E=o.filteredItems?.indexOf(R),I=r?.items?.filter(W=>W==b);for(let W of I??[])R?.items?.push(W);o.filteredItems[E]=R}else M.items=r?.items?.filter(I=>I==b),(M.items?.filter(I=>I?.routerLink)?.length??0)>0&&o.filteredItems?.push(M)}}),(r?.items?.length??0)>0)for(let b of r?.items??[])n(o,b,p)}this.filteredItems=[],this.items?.map(o=>n(this,o,i?.query)),(this.filteredItems?.length??0)<=0&&this.items?.map(o=>t(this,o,i?.query))}onSelectSearch(i){this.router?.navigate(i?.value?.routerLink??[""])}onShowConfigurations(){this.configRightDrawer=!0}onShowUser(){this.userRightDrawer=!0}onShowHideMenu(){this.mainService?.menu?.next(!this.menuVisible)}static \u0275fac=function(e){return new(e||a)(g(_),g(w))};static \u0275cmp=S({type:a,selectors:[["app-topbar"]],inputs:{items:"items"},standalone:!1,decls:38,vars:28,consts:[["item",""],["header","Configura\xE7\xF5es","position","right",3,"visibleChange","styleClass","visible"],[1,"drawer-content","drawer-config"],[1,"content-item"],["optionLabel","label","optionValue","value",3,"ngModelChange","onChange","options","ngModel","allowEmpty"],[1,"flex","flex-wrap","gap-4"],[4,"ngFor","ngForOf"],["header","Usu\xE1rio","position","right",3,"visibleChange","visible"],[1,"drawer-content","drawer-user"],[1,"user-avatar"],[1,"fas","fa-user",3,"click"],[1,"divider"],[1,"container-terms"],[1,"terms-of-use"],[3,"label","icon","type","noBackground"],[1,"topbar"],[1,"topbar-container"],[1,"topbar-start"],["pButton","","icon","fas fa-bars",1,"p-button-text","p-button-secondary","topbar-menu-button",3,"click"],[1,"topbar-route"],[3,"ngClass"],[1,"topbar-end"],[1,"topbar-search"],[3,"onSearch","onSelect","type","icon","items","group","float","autoCompleteClearAfterSelect","placeholder"],[1,"topbar-config"],["pButton","","icon","fas fa-cog",1,"p-button-secondary","p-button-rounded",3,"click"],[1,"topbar-user"],["tooltipPosition","top",3,"pTooltip"],["tooltipPosition","top",1,"p-button-rounded","border-none","h-8","w-8",3,"click","pTooltip"],["class","fas fa-check text-white",4,"ngIf"],[1,"fas","fa-check","text-white"]],template:function(e,t){if(e&1){let n=H();l(0,"p-drawer",1),F("visibleChange",function(r){return f(n),D(t.configRightDrawer,r)||(t.configRightDrawer=r),d(r)}),l(1,"div",2)(2,"div",3)(3,"h5"),v(4,"Tema"),s(),l(5,"p-selectbutton",4),F("ngModelChange",function(r){return f(n),D(t.currentScheme,r)||(t.currentScheme=r),d(r)}),C("onChange",function(r){return f(n),d(t.onChangeSchemeColor(r))}),h(6,ke,3,5,"ng-template",null,0,A),s()(),l(8,"div",3)(9,"h5"),v(10,"Cor do Sistema"),s(),l(11,"div",5),h(12,De,3,5,"div",6),s()()()(),l(13,"p-drawer",7),F("visibleChange",function(r){return f(n),D(t.userRightDrawer,r)||(t.userRightDrawer=r),d(r)}),l(14,"div",8)(15,"div",3)(16,"div",9)(17,"span",10),C("click",function(){return f(n),d(t.onShowUser())}),s()(),c(18,"div",11),l(19,"div",12)(20,"div",13),c(21,"app-button",14),s(),c(22,"app-button",14),s()()()(),l(23,"div",15)(24,"div",16)(25,"div",17)(26,"button",18),C("click",function(){return f(n),d(t.onShowHideMenu())}),s(),l(27,"div",19),c(28,"app-route",20),s()(),l(29,"div",21)(30,"div",22)(31,"app-field",23),C("onSearch",function(r){return f(n),d(t.onSearch(r))})("onSelect",function(r){return f(n),d(t.onSelectSearch(r))}),s()(),l(32,"div",24)(33,"button",25),C("click",function(){return f(n),d(t.onShowConfigurations())}),s()(),l(34,"div",26)(35,"span",10),C("click",function(){return f(n),d(t.onShowUser())}),s()()()(),l(36,"div",19),c(37,"app-route",20),s()()}e&2&&(u("styleClass","drawer-container"),V("visible",t.configRightDrawer),m(5),u("options",t.schemeColor),V("ngModel",t.currentScheme),u("allowEmpty",!1),m(7),u("ngForOf",t.themeColor),m(),V("visible",t.userRightDrawer),m(8),u("label","Termos de Uso")("icon","fas fa-file-pen")("type",t.ButtonType.Button)("noBackground",!0),m(),u("label","Pol\xEDticas de Privacidade")("icon","fas fa-file-shield")("type",t.ButtonType.Button)("noBackground",!0),m(6),u("ngClass",J(24,we,t.mainService.isMobile())),m(3),u("type",t.FieldType.AutoComplete)("icon","fas fa-search")("items",t.filteredItems?t.filteredItems:t.items)("group",!0)("float",!1)("autoCompleteClearAfterSelect",!0)("placeholder","Pesquisar..."),m(6),u("ngClass",J(26,we,!t.mainService.isMobile())))},dependencies:[Se,O,pe,le,te,ie,ne,de,se,me,ge,ue],encapsulation:2})};var Ae=["dialogRequestLog"];function xe(a,i){if(a&1&&(l(0,"div",6)(1,"div",7),c(2,"p-progress-spinner",8),s(),l(3,"div",9),v(4),s()()),a&2){let e=i.$implicit;m(4),ee(e==null?null:e.summary)}}var Me=class a extends Ce{constructor(e,t,n){super(e);this.mainService=e;this.router=t;this.activatedRoute=n;this.mainService.menuItemsReload?.subscribe(o=>{o?.reload&&this.createMenuItems()}),this.mainService.imagesFullScreen?.subscribe(o=>{this.imagesFullScreen=o}),this.mainService.fullScreen?.subscribe(o=>{this.fullScreen=o}),this.mainService.imagePopup?.subscribe(o=>{this.imagePopup=o}),this.createMenuItems(),this.activatedRoute?.snapshot?.queryParamMap?.get("checkRoute")&&this.goToFirstAllowedRoute()}menuItems=[];fullScreen=!1;imagesFullScreen=[];imagePopup;dialogRequestLog;canRegisterClose(){}createMenuItems(){this.menuItems=[{label:"Dashboard",visible:!0,items:[{label:"Dashboard",icon:"fas fa-home",routerLink:["/dashboard"],items:[],visible:!0,badge:"",tooltip:"Dashboard",level:"1",notification:!1,commingSoon:!1,new:!1}]},{label:"Calculadora",visible:!0,items:[{label:"Ind. e Com\xE9rcio",icon:"fas fa-industry",routerLink:["/industry"],items:[],visible:!0,badge:"",tooltip:"Ind. e Com\xE9rcio",level:"1",notification:!1,commingSoon:!1,new:!1},{label:"Servi\xE7os",icon:"fas fa-bell-concierge",routerLink:["/services"],items:[],visible:!0,badge:"",tooltip:"Servi\xE7os",level:"1",notification:!1,commingSoon:!1,new:!1}]}]}getScrollHeightRequestLog(){return this.mainService?.isMobile()?220:356}goToFirstAllowedRoute(){let e;for(let t of this.menuItems??[])for(let n of t?.items??[])n?.visible&&!n?.commingSoon&&!e&&(e=n);e&&this.router?.navigate(e?.routerLink)}onNew(){return j(this,null,function*(){})}reloadLeftMenu(){this.menuItems=[...this.menuItems]}setValidators(){}setValidatorValues(){}static \u0275fac=function(t){return new(t||a)(g(w),g(_),g(N))};static \u0275cmp=S({type:a,selectors:[["app-main"]],viewQuery:function(t,n){if(t&1&&K(Ae,5),t&2){let o;G(o=X())&&(n.dialogRequestLog=o.first)}},standalone:!1,features:[Q],decls:9,vars:2,consts:[["message",""],["leftMenu",""],[1,"main"],["position","bottom-right","key","action-toast"],[3,"items"],[1,"outlet"],[1,"container-message"],[1,"icon"],["strokeWidth"," 8","fill","transparent","animationDuration",".5s",1,"spinner"],[1,"message"]],template:function(t,n){t&1&&(l(0,"div",2)(1,"p-toast",3),h(2,xe,5,1,"ng-template",null,0,A),s(),c(4,"app-topbar",4)(5,"app-left-menu",4,1),l(7,"div",5),c(8,"router-outlet"),s()()),t&2&&(m(4),u("items",n.menuItems),m(),u("items",n.menuItems))},dependencies:[P,z,fe,ve,re],encapsulation:2})};export{P as a,Me as b};
