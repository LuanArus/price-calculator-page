import{a as he}from"./chunk-UYYTZDUM.js";import{a as be,b as Se,c as Ce}from"./chunk-RS733EPL.js";import{Da as ce,Ga as ue,Ha as pe,Ia as de,La as fe,Na as ge,W as ae,b as te,d as ie,e as ne,h as re,q as N,qa as le,r as O,s as oe,sb as I,t as w,xa as se,xb as ve,ya as me}from"./chunk-4XXJBYH2.js";import{$b as Z,Ab as u,G as B,Hb as H,Ma as m,Mb as S,Nb as _,Ra as h,Rb as K,Sb as G,Tb as X,Za as C,_b as Y,ac as v,bb as U,bc as ee,cc as k,db as g,e as Q,ec as D,fc as V,gc as F,ka as d,kc as J,la as f,oc as x,wc as A,xb as c,yb as l,zb as s}from"./chunk-VATQGS3S.js";function Te(o,t){if(o&1&&(l(0,"div",10),v(1),s()),o&2){let e=_().$implicit;m(),k(" ",e==null?null:e.label," ")}}function Le(o,t){if(o&1&&(l(0,"li",7),g(1,Te,2,1,"div",8),u(2,"app-left-sub-menu",9),s()),o&2){let e=t.$implicit;m(),c("ngIf",(e==null?null:e.label)&&(e==null?null:e.visible)),m(),c("items",e==null?null:e.items)}}var P=class o{items;constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-left-menu"]],inputs:{items:"items"},standalone:!1,decls:7,vars:1,consts:[[1,"leftmenu"],[1,"sidebar-header"],["href","/",1,"app-logo"],["src","assets/images/logo.png"],[1,"layout-menu-container"],[1,"layout-menu"],["class","layout-root-menuitem",4,"ngFor","ngForOf"],[1,"layout-root-menuitem"],["class","layout-menuitem-root-text",4,"ngIf"],[3,"items"],[1,"layout-menuitem-root-text"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"a",2),u(3,"img",3),s()(),l(4,"div",4)(5,"ul",5),g(6,Le,3,2,"li",6),s()()()),e&2&&(m(6),c("ngForOf",i.items))},encapsulation:2})};var y=class{static addString(t,e){return t?.indexOf(e)<0?t?.replace(/(\.[^\.\/]+)$/,`${e}$1`):t}static fnv1aHash(t){let e=2166136261;for(let i=0;i<t?.length;i++)e^=t.charCodeAt(i),e=Math.imul(e,16777619)>>>0;return(e>>>0).toString(16).padStart(8,"0")}static formatValue(t,e=2,i="pt-BR"){return new re(i).transform(t,"1."+e+"-"+e,i)}static getLabelByHierarchy(t){let e=[];return t&&t instanceof Object&&(t.label=this.getLabelParent(t,e)?.reverse()?.join(" > ")),t.label}static getLabelParent(t,e){return e?.push(t?.name),t?.parent?.createdAt?this.getLabelParent(t?.parent,e):e}static levenshtein(t,e){let i=Array.from({length:t?.length+1},(n,r)=>Array.from({length:e?.length+1},(a,p)=>r===0?p:p===0?r:0));for(let n=1;n<=t?.length;n++)for(let r=1;r<=e?.length;r++){let a=t[n-1]===e[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+a)}return i[t?.length][e?.length]}static normalize(t){return t?.toLowerCase()?.normalize("NFD")?.replace(/[\u0300-\u036f]/g,"")?.trim()??""}static removeString(t,e){let i=e?.map(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),n=new RegExp(`(${i})(?=\\.[^\\.\\/]+$)`,"g");return t?.replace(n,"")??""}static reorderObjectKeysStringfy(t){let e=new WeakSet,i=n=>{if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="number"||typeof n=="boolean")return String(n);if(typeof n=="string")return JSON.stringify(n);if(Array.isArray(n))return"["+n.map(r=>i(r)).join(",")+"]";if(typeof n=="object"){if(e.has(n))return'"[Circular]"';e.add(n);let a=Object.keys(n).sort().map(p=>`${JSON.stringify(p)}:${i(n[p])}`);return e.delete(n),"{"+a.join(",")+"}"}return JSON.stringify(String(n))};return i(t)}};function Ee(o,t){o&1&&v(0," / ")}var z=class o{constructor(t,e,i){this.router=t;this.activatedRoute=e;this.mainService=i;this.router.events.pipe(B(n=>n instanceof N)).subscribe(()=>{this.menuItems=[],this.createBreadcrumbs(this.activatedRoute)})}menuItems;createBreadcrumbs(t){for(let e of t?.children){let i=e?.snapshot?.data?.breadcrumb?.split([","]);if(i)for(let n of i)this.menuItems?.push({label:n});e?.children&&this.createBreadcrumbs(e?.children[0])}}static \u0275fac=function(e){return new(e||o)(h(w),h(O),h(I))};static \u0275cmp=C({type:o,selectors:[["app-route"]],standalone:!1,decls:3,vars:1,consts:[[1,"route"],[3,"model"],["pTemplate","separator"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"p-breadcrumb",1),g(2,Ee,1,0,"ng-template",2),s()()),e&2&&(m(),c("model",i.menuItems))},dependencies:[he,ae],encapsulation:2})};var we=o=>({hidden:o}),ke=o=>({"primary-color":o});function De(o,t){if(o&1&&(l(0,"div",35),u(1,"i"),v(2),s()),o&2){let e=t.$implicit;c("pTooltip",J(e==null?null:e.label)),m(),Z(e==null?null:e.icon),m(),k(" ",e==null?null:e.label," ")}}function Ve(o,t){o&1&&u(0,"i",38)}function Fe(o,t){if(o&1){let e=H();l(0,"div")(1,"button",36),S("click",function(){let n=d(e).$implicit,r=_();return f(r.onChangeThemeColor(n))}),g(2,Ve,1,0,"i",37),s()()}if(o&2){let e=t.$implicit,i=_();m(),Y("background: "+(e==null?null:e.value)),c("pTooltip",J(e==null?null:e.label)),m(),c("ngIf",i.getCurrentThemeColor(e))}}function xe(o,t){if(o&1&&u(0,"i",39),o&2){let e=t.$implicit,i=_();c("ngClass",x(1,ke,i.getCurrentScale(e)))}}var W=class o{constructor(t,e){this.router=t;this.mainService=e;window.addEventListener("resize",()=>this.onResize()),this.router.events.pipe(B(i=>i instanceof N)).subscribe(()=>{this.mainService?.menu?.next(!1),window.innerWidth<=991&&this.mainService?.menu?.next(!0)}),this.mainService?.menu?.subscribe(i=>{this.menuVisible=i;let n=document?.querySelector(".fixed-bottombar"),r=document?.querySelector(".leftmenu"),a=document?.querySelector(".main");r&&a&&(this.mainService.isMobile()?(r.style.width=this.menuVisible?"0":"18rem",a.style.marginLeft="0"):(r.style.width=this.menuVisible?"0":"18rem",a.style.marginLeft=this.menuVisible?"0":"18rem")),n&&(this.mainService.isMobile()?(n.style.left="0",n.style.width="100%"):(n.style.left=this.menuVisible?"0":"18rem",n.style.width=this.menuVisible?"100%":"calc(100% - 18rem)"))})}configRightDrawer=!1;userRightDrawer=!1;themeColor;schemeColor;scales=[12,13,14,15,16];currentTheme;currentScheme;currentScale=14;menuVisible=!0;filteredItems=[];items=[];get ButtonType(){return ue}get DocumentType(){return DocumentType}get FieldType(){return be}ngOnInit(){this.themeColor=[{label:"Ind\xEDgo",value:"var(--indigo-500)",class:"indigo"},{label:"Azul",value:"var(--blue-500)",class:"blue"},{label:"Roxo",value:"var(--purple-500)",class:"purple"},{label:"Verde-Azulado",value:"var(--teal-500)",class:"teal"},{label:"Ciano",value:"var(--cyan-500)",class:"cyan"},{label:"Verde",value:"var(--green-500)",class:"green"},{label:"Laranja",value:"var(--orange-500)",class:"orange"},{label:"Rosa",value:"var(--pink-500)",class:"pink"},{label:"Vermelho",value:"var(--red-500)",class:"red"},{label:"Amarelo",value:"var(--yellow-500)",class:"yellow"},{label:"Confian\xE7a",value:"var(--custom-500)",class:"custom"}],this.schemeColor=[{label:"Claro",value:"light",icon:"fas fa-sun"},{label:"Escuro",value:"dark",icon:"fas fa-moon"}],this.onChangeSchemeColor(this.getSchemeColor()),this.onChangeThemeColor(this.getThemeColor()),this.onChangeScale(this.getScale())}getCurrentScale(t){return t===this.currentScale}getCurrentThemeColor(t){return t?.value==this.currentTheme?.value}getDisabledDecrementScale(){return this.currentScale===this.scales[0]}getDisabledIncrementScale(){return this.currentScale===this.scales[this.scales?.length-1]}getScale(){let t=localStorage?.getItem("_sca");return t?Number(t):this.scales?.[2]??14}getSchemeColor(){let t=localStorage?.getItem("_sc");return t?JSON.parse(t):this.schemeColor?.[0]??{}}getThemeColor(){let t=localStorage?.getItem("_th");return t?JSON.parse(t):this.themeColor?.[0]??{}}onChangeSchemeColor(t){let e=document?.querySelector("html");e?.classList?.remove("light","dark"),e?.classList?.toggle(t?.value),this.currentScheme=t?.value,this.currentScheme&&localStorage?.setItem("_sc",JSON.stringify(t))}onChangeThemeColor(t){let e=document.querySelector("html");e?.classList?.remove("indigo","blue","purple","teal","cyan","green","orange","pink","red","yellow","custom"),e?.classList?.toggle(t?.class),this.currentTheme=t,this.currentScheme&&localStorage?.setItem("_th",JSON.stringify(t))}onChangeScale(t){document.documentElement.style.fontSize=`${t}px`,this.currentScale=t,this.currentScheme&&localStorage?.setItem("_sca",t?.toString())}onDecrementScale(){this.currentScale--,this.onChangeScale(this.currentScale)}onIncrementScale(){this.currentScale++,this.onChangeScale(this.currentScale)}onResize(){this.mainService?.menu?.next(window.innerWidth<=991)}onSearch(t){function e(r,a){let p=y.normalize(r);return y.normalize(a)?.split(/\s+/)?.every(L=>p?.includes(L)||p?.includes(L+"s"))??!1}function i(r,a,p){if(a?.label?.toLowerCase()?.includes(p?.toLowerCase())){let b={};Object.assign(b,a),r.filteredItems?.push(b)}}function n(r,a,p){if(a?.items?.map(b=>{let L=y.normalize(b?.label),Me=y.normalize(p);if(e(L?.trim(),Me?.trim())){let M={};Object.assign(M,a);let R=r.filteredItems?.find(E=>E.label==M?.label);if(R){let E=r.filteredItems?.indexOf(R),T=a?.items?.filter(q=>q==b);for(let q of T??[])R?.items?.push(q);r.filteredItems[E]=R}else M.items=a?.items?.filter(T=>T==b),(M.items?.filter(T=>T?.routerLink)?.length??0)>0&&r.filteredItems?.push(M)}}),(a?.items?.length??0)>0)for(let b of a?.items??[])n(r,b,p)}this.filteredItems=[],this.items?.map(r=>n(this,r,t?.query)),(this.filteredItems?.length??0)<=0&&this.items?.map(r=>i(this,r,t?.query))}onSelectSearch(t){this.router?.navigate(t?.value?.routerLink??[""])}onShowConfigurations(){this.configRightDrawer=!0}onShowUser(){this.userRightDrawer=!0}onShowHideMenu(){this.mainService?.menu?.next(!this.menuVisible)}static \u0275fac=function(e){return new(e||o)(h(w),h(I))};static \u0275cmp=C({type:o,selectors:[["app-topbar"]],inputs:{items:"items"},standalone:!1,decls:48,vars:31,consts:[["item",""],["header","Configura\xE7\xF5es","position","right",3,"visibleChange","styleClass","visible"],[1,"drawer-content","drawer-config"],[1,"content-item"],["optionLabel","label","optionValue","value",3,"ngModelChange","onChange","options","ngModel","allowEmpty"],[1,"flex","flex-wrap","gap-4"],[4,"ngFor","ngForOf"],[1,"flex"],[1,"p-button-text","p-button-rounded","h-8","w-8","mr-2",3,"click","disabled"],[1,"fas","fa-minus"],[1,"flex","items-center","gap-2"],["class","fas fa-circle",3,"ngClass",4,"ngFor","ngForOf"],["icon","fas fa-plus",1,"p-button-text","p-button-rounded","h-8","w-8","ml-2",3,"click","disabled"],[1,"fas","fa-plus"],["header","Usu\xE1rio","position","right",3,"visibleChange","visible"],[1,"drawer-content","drawer-user"],[1,"user-avatar"],["src","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png"],[1,"divider"],[1,"container-terms"],[1,"terms-of-use"],[3,"label","icon","type","noBackground"],[1,"topbar"],[1,"topbar-container"],[1,"topbar-start"],["pButton","","icon","fas fa-bars",1,"p-button-text","p-button-secondary","topbar-menu-button",3,"click"],[1,"topbar-route"],[3,"ngClass"],[1,"topbar-end"],[1,"topbar-search"],[3,"onSearch","onSelect","type","icon","items","group","float","autoCompleteClearAfterSelect","placeholder"],[1,"topbar-config"],["pButton","","icon","fas fa-cog",1,"p-button-secondary","p-button-rounded",3,"click"],[1,"topbar-user"],["src","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png",3,"click"],["tooltipPosition","top",3,"pTooltip"],["tooltipPosition","top",1,"p-button-rounded","border-none","h-8","w-8",3,"click","pTooltip"],["class","fas fa-check text-white",4,"ngIf"],[1,"fas","fa-check","text-white"],[1,"fas","fa-circle",3,"ngClass"]],template:function(e,i){if(e&1){let n=H();l(0,"p-drawer",1),F("visibleChange",function(a){return d(n),V(i.configRightDrawer,a)||(i.configRightDrawer=a),f(a)}),l(1,"div",2)(2,"div",3)(3,"h5"),v(4,"Tema"),s(),l(5,"p-selectbutton",4),F("ngModelChange",function(a){return d(n),V(i.currentScheme,a)||(i.currentScheme=a),f(a)}),S("onChange",function(a){return d(n),f(i.onChangeSchemeColor(a))}),g(6,De,3,5,"ng-template",null,0,A),s()(),l(8,"div",3)(9,"h5"),v(10,"Cor do Sistema"),s(),l(11,"div",5),g(12,Fe,3,5,"div",6),s()(),l(13,"div",3)(14,"h5"),v(15,"Tamanho da Fonte"),s(),l(16,"div",7)(17,"button",8),S("click",function(){return d(n),f(i.onDecrementScale())}),u(18,"i",9),s(),l(19,"div",10),g(20,xe,1,3,"i",11),s(),l(21,"button",12),S("click",function(){return d(n),f(i.onIncrementScale())}),u(22,"i",13),s()()()()(),l(23,"p-drawer",14),F("visibleChange",function(a){return d(n),V(i.userRightDrawer,a)||(i.userRightDrawer=a),f(a)}),l(24,"div",15)(25,"div",3)(26,"div",16),u(27,"img",17),s(),u(28,"div",18),l(29,"div",19)(30,"div",20),u(31,"app-button",21),s(),u(32,"app-button",21),s()()()(),l(33,"div",22)(34,"div",23)(35,"div",24)(36,"button",25),S("click",function(){return d(n),f(i.onShowHideMenu())}),s(),l(37,"div",26),u(38,"app-route",27),s()(),l(39,"div",28)(40,"div",29)(41,"app-field",30),S("onSearch",function(a){return d(n),f(i.onSearch(a))})("onSelect",function(a){return d(n),f(i.onSelectSearch(a))}),s()(),l(42,"div",31)(43,"button",32),S("click",function(){return d(n),f(i.onShowConfigurations())}),s()(),l(44,"div",33)(45,"img",34),S("click",function(){return d(n),f(i.onShowUser())}),s()()()(),l(46,"div",26),u(47,"app-route",27),s()()}e&2&&(c("styleClass","drawer-container"),D("visible",i.configRightDrawer),m(5),c("options",i.schemeColor),D("ngModel",i.currentScheme),c("allowEmpty",!1),m(7),c("ngForOf",i.themeColor),m(5),c("disabled",i.getDisabledDecrementScale()),m(3),c("ngForOf",i.scales),m(),c("disabled",i.getDisabledIncrementScale()),m(2),D("visible",i.userRightDrawer),m(8),c("label","Termos de Uso")("icon","fas fa-file-pen")("type",i.ButtonType.Button)("noBackground",!0),m(),c("label","Pol\xEDticas de Privacidade")("icon","fas fa-file-shield")("type",i.ButtonType.Button)("noBackground",!0),m(6),c("ngClass",x(27,we,i.mainService.isMobile())),m(3),c("type",i.FieldType.AutoComplete)("icon","fas fa-search")("items",i.filteredItems?i.filteredItems:i.items)("group",!0)("float",!1)("autoCompleteClearAfterSelect",!0)("placeholder","Pesquisar..."),m(6),c("ngClass",x(29,we,!i.mainService.isMobile())))},dependencies:[Se,z,pe,le,te,ie,ne,fe,se,me,ge,ce],encapsulation:2})};var Ne=["dialogRequestLog"];function Oe(o,t){if(o&1&&(l(0,"div",5)(1,"div",6),u(2,"p-progress-spinner",7),s(),l(3,"div",8),v(4),s()()),o&2){let e=t.$implicit;m(4),ee(e==null?null:e.summary)}}var Ie=class o extends Ce{constructor(e,i,n){super(e);this.mainService=e;this.router=i;this.activatedRoute=n;this.mainService.menuItemsReload?.subscribe(r=>{r?.reload&&this.createMenuItems()}),this.mainService.imagesFullScreen?.subscribe(r=>{this.imagesFullScreen=r}),this.mainService.fullScreen?.subscribe(r=>{this.fullScreen=r}),this.mainService.imagePopup?.subscribe(r=>{this.imagePopup=r}),this.createMenuItems(),this.activatedRoute?.snapshot?.queryParamMap?.get("checkRoute")&&this.goToFirstAllowedRoute()}menuItems=[];fullScreen=!1;imagesFullScreen=[];imagePopup;dialogRequestLog;canRegisterClose(){}createMenuItems(){this.menuItems=[{label:"Dashboard",visible:!0,items:[{label:"Dashboard",icon:"fas fa-home",routerLink:["/dashboard"],items:[],visible:!0,badge:"",tooltip:"Dashboard",level:"1",notification:!1,commingSoon:!1,new:!1}]},{label:"Calculadora",visible:!0,items:[{label:"Ind. e Com\xE9rcio",icon:"fas fa-industry",routerLink:["/industry"],items:[],visible:!0,badge:"",tooltip:"Ind. e Com\xE9rcio",level:"1",notification:!1,commingSoon:!1,new:!1},{label:"Servi\xE7os",icon:"fas fa-bell-concierge",routerLink:["/services"],items:[],visible:!0,badge:"",tooltip:"Servi\xE7os",level:"1",notification:!1,commingSoon:!1,new:!1}]}]}getScrollHeightRequestLog(){return this.mainService?.isMobile()?220:356}goToFirstAllowedRoute(){let e;for(let i of this.menuItems??[])for(let n of i?.items??[])n?.visible&&!n?.commingSoon&&!e&&(e=n);e&&this.router?.navigate(e?.routerLink)}onNew(){return Q(this,null,function*(){})}reloadLeftMenu(){this.menuItems=[...this.menuItems]}setValidators(){}setValidatorValues(){}static \u0275fac=function(i){return new(i||o)(h(I),h(w),h(O))};static \u0275cmp=C({type:o,selectors:[["app-main"]],viewQuery:function(i,n){if(i&1&&K(Ne,5),i&2){let r;G(r=X())&&(n.dialogRequestLog=r.first)}},standalone:!1,features:[U],decls:8,vars:2,consts:[["message",""],[1,"main"],["position","bottom-right","key","action-toast"],[3,"items"],[1,"outlet"],[1,"container-message"],[1,"icon"],["strokeWidth"," 8","fill","transparent","animationDuration",".5s",1,"spinner"],[1,"message"]],template:function(i,n){i&1&&(l(0,"div",1)(1,"p-toast",2),g(2,Oe,5,1,"ng-template",null,0,A),s(),u(4,"app-topbar",3)(5,"app-left-menu",3),l(6,"div",4),u(7,"router-outlet"),s()()),i&2&&(m(4),c("items",n.menuItems),m(),c("items",n.menuItems))},dependencies:[P,W,de,ve,oe],encapsulation:2})};export{P as a,Ie as b};
